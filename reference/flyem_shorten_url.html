<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Shorten a Neuroglancer URL using the Janelia FlyEM link shortener — flyem_shorten_url • malevnc</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Shorten a Neuroglancer URL using the Janelia FlyEM link shortener — flyem_shorten_url"><meta name="description" content="Shorten a Neuroglancer URL using the Janelia FlyEM link shortener"><meta property="og:description" content="Shorten a Neuroglancer URL using the Janelia FlyEM link shortener"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">malevnc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fas fa-home fa-lg"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="../SUPPORT.html">Help</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://natverse.github.io">natverse</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/natverse/malevnc/"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Shorten a Neuroglancer URL using the Janelia FlyEM link shortener</h1>
      <small class="dont-index">Source: <a href="https://github.com/natverse/malevnc/blob/master/R/url-shortening.R" class="external-link"><code>R/url-shortening.R</code></a></small>
      <div class="d-none name"><code>flyem_shorten_url.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Shorten a Neuroglancer URL using the Janelia FlyEM link shortener</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">flyem_shorten_url</span><span class="op">(</span></span>
<span>  <span class="va">url</span>,</span>
<span>  filename <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  title <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"default"</span>, <span class="st">"md5"</span>, <span class="st">"ms"</span><span class="op">)</span>,</span>
<span>  password <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">flyem_expand_url</span><span class="op">(</span><span class="va">url</span>, return <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"url"</span>, <span class="st">"json"</span>, <span class="st">"parsed"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-url">url<a class="anchor" aria-label="anchor" href="#arg-url"></a></dt>
<dd><p>One or more URLs to shorten or expand</p></dd>


<dt id="arg-filename">filename<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>An optional filename to use in the shortened URL. You can also
provide a URL in which case the terminal filename will be extracted.</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>An optional title for the webpage</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>An optional scheme for automatic naming of shortened URLs. See
details.</p></dd>


<dt id="arg-password">password<a class="anchor" aria-label="anchor" href="#arg-password"></a></dt>
<dd><p>Optional password to allow rewriting of short URLs</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to <code><a href="https://httr.r-lib.org/reference/POST.html" class="external-link">httr::POST</a></code></p></dd>


<dt id="arg-return">return<a class="anchor" aria-label="anchor" href="#arg-return"></a></dt>
<dd><p>When expanding, whether to return a long URL, an R list or a
JSON text fragment.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>For <code>flyem_shorten_url</code> a character vector containing a short
 URL. For <code>flyem_expand_url</code> a character vector or list depending on the
 <code>return</code> argument. If the input <code>url</code> argument is a named vector
 of length&gt;1, then the output will also be named.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The default filename for these fragments consists of the date and
 time to the nearest second. For this reason you will have trouble generating
 many of these links in quick succession. To overcome this limitation, you
 can specify your own filename. We also provide two convenience naming
 methods:
.</p><ul><li><p><b>md5</b> An md5 hash of the URL+title e.g. <code>"9a35fc580f710f3a62b2809a10fe106d.json"</code>
.</p></li>
<li><p><b>ms</b> Timestamp to the nearest millisecond e.g. <code>"1708773000.001.json"</code></p></li>
</ul><p>Note that this is an open endpoint so there are two potential security
 concerns. URLs named by date/time can potentially be guessed and inspected.
 Known URLs can be overwritten to point to a new location. If these are
 concerns then the MD5 hash format has some advantages.</p>
<p>see the underlying
<a href="https://github.com/janelia-flyem/flyem-shortener" class="external-link">github repo</a> for
details.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># this reads the URL from the clipboard</span></span></span>
<span class="r-in"><span><span class="va">su</span><span class="op">=</span><span class="fu">flyem_shorten_url</span><span class="op">(</span><span class="fu">clipr</span><span class="fu">::</span><span class="fu"><a href="http://matthewlincoln.net/clipr/reference/read_clip.html" class="external-link">read_clip</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lu</span><span class="op">=</span><span class="fu">flyem_expand_url</span><span class="op">(</span><span class="va">su</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">fafbseg</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/fafbseg/man/ngl_decode_scene.html" class="external-link">ngl_decode_scene</a></span><span class="op">(</span><span class="va">lu</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># these give you the same result</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/browseURL.html" class="external-link">browseURL</a></span><span class="op">(</span><span class="va">su</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/browseURL.html" class="external-link">browseURL</a></span><span class="op">(</span><span class="va">lu</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate many unique short URLs based on an MD5 hash of the long URL</span></span></span>
<span class="r-in"><span><span class="va">sus</span><span class="op">=</span><span class="fu">flyem_shorten_url</span><span class="op">(</span><span class="st">"&lt;Long URLs&gt;"</span>, method<span class="op">=</span><span class="st">'md5'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gregory Jefferis, Dominik Krzeminski.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

