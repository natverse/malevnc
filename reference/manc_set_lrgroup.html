<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Set Left-Right matching groups for neurons in DVID and optionally Clio — manc_set_lrgroup • malevnc</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Set Left-Right matching groups for neurons in DVID and optionally Clio — manc_set_lrgroup"><meta property="og:description" content="Set Left-Right matching groups for neurons in DVID and optionally Clio"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">malevnc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../SUPPORT.html">Help</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://natverse.github.io" class="external-link">natverse</a>
</li>
<li>
  <a href="https://github.com/flyconnectome/malevnc/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Set Left-Right matching groups for neurons in DVID and optionally Clio</h1>
    <small class="dont-index">Source: <a href="https://github.com/flyconnectome/malevnc/blob/HEAD/R/dvidtools.R" class="external-link"><code>R/dvidtools.R</code></a></small>
    <div class="hidden name"><code>manc_set_lrgroup.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Set Left-Right matching groups for neurons in DVID and optionally Clio</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">manc_set_lrgroup</span><span class="op">(</span>
  <span class="va">ids</span>,
  sides <span class="op">=</span> <span class="cn">NULL</span>,
  dryrun <span class="op">=</span> <span class="cn">TRUE</span>,
  Force <span class="op">=</span> <span class="cn">FALSE</span>,
  Partial <span class="op">=</span> <span class="cn">FALSE</span>,
  group <span class="op">=</span> <span class="cn">NA</span>,
  clio <span class="op">=</span> <span class="cn">TRUE</span>,
  user <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"malevnc.dvid_user"</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>ids</dt>
<dd><p>A set of body ids belonging to the same group</p></dd>
<dt>sides</dt>
<dd><p>Optional character vector specifying the sides (L,R,U) for the
given <code>ids</code>. Will be taken from neuprint by default.</p></dd>
<dt>dryrun</dt>
<dd><p>When <code>TRUE</code>, the default, show what will happen rather
than applying the annotations.</p></dd>
<dt>Force</dt>
<dd><p>Whether to update DVID instances (and clio group) even when
there is existing DVID instance information.</p></dd>
<dt>Partial</dt>
<dd><p>Assigns group annotations (via DVID instances) only to neurons
that do not yet have annotation.</p></dd>
<dt>group</dt>
<dd><p>Set a specific group id rather than accepting the default.</p></dd>
<dt>clio</dt>
<dd><p>Whether to set the Clio group field in addition to DVID.</p></dd>
<dt>user</dt>
<dd><p>Janelia user name to associate with the DVID instance annotation
(defaults to the value of options("malevnc.dvid_user"), but can be
overridden by this argument. NB a user must be provided by one of these
means. If the user has no Janelia id, just use an id of the form
<code>&lt;surname&gt;&lt;firstinitial&gt;</code> e.g. <code>jefferisg</code>.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>One important process in reviewing and annotating neurons is to
  compare neurons on the left and right side of the malevnc dataset. This can
  identify neurons that need further proof-reading fixes as well as grouping
  neurons that may eventually form agreed cell types. At the time of writing
  (21 Aug 2021) group information is stored in two locations: the DVID
  instance field and the Clio group field. DVID instance information is being
  periodically copied to Clio, but for the time being this is not automated.
  Furthermore it is not trivial to reconcile the two locations if they get
  out of sync. Therefore we have agreed that DVID will remain the master
  source of information for the time being.</p>
<p>DVID left-right groupings are stored in the instance field (for the
  hemibrain this was more specific than the type field and typically included
  side of brain information). The convention has been to store the lowest
  body id in a group followed by an underscore and then the side (<code>L</code> or
  <code>R</code>) or a letter <code>U</code> to indicate that the neuron is unpaired
  (sometimes this is <code>UNP</code>). In contrast the Clio group column just
  contains the lowest bodyid. At this point we assume that the selected
  bodyid will <em>not</em> change if neurons are added to the group.
  <code>manc_set_lrgroup</code> will choose the lowest bodyid as the default when
  setting the group for a set of ids unless a specific <code>group</code> argument
  is passed.</p>
<p>Grouping neurons remains a subjective process: while many cases are
  obvious, there are always edge cases where experts disagree. Therefore it
  is not necessarily productive to spend extensive amounts of discussion once
  a designation has been made. Therefore <code>manc_set_lrgroup</code> tries to
  avoid overriding previous designations unless the user insists. This
  behaviour can be changed using the <code>Force</code> or <code>Partial</code>. As you
  might expect <code>Force=TRUE</code> just does what you ask regardless of any
  existing annotations. Use this sparingly and with caution.</p>
<p><code>Partial=TRUE</code> is more nuanced and tries to do the right thing when
  extending a group for which some members already have annotations. The main
  limitation is that you must pass <em>all</em> the members of the group in
  your call so that <code>manc_set_lrgroup</code> knows that you are trying to make
  a compatible annotation.</p>
<p>Here are some examples of group annotations:</p><ul><li><p><code>10000_R</code>, <code>10000_L</code> for bodyids <code>10000, 10002</code> (the
  giant fibre neurons)</p></li>
<li><p><code>13083_U</code> an unpaired neuron.</p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># check it makes sense, dryrun=T</span></span>
<span class="r-in"><span class="fu">manc_set_lrgroup</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12516</span>, <span class="fl">12706</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># apply</span></span>
<span class="r-in"><span class="fu">manc_set_lrgroup</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12516</span>, <span class="fl">12706</span><span class="op">)</span>, dryrun<span class="op">=</span><span class="cn">F</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Gregory Jefferis.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

