<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Set Left-Right matching groups for neurons in DVID and optionally Clio — manc_set_lrgroup • malevnc</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Set Left-Right matching groups for neurons in DVID and optionally Clio — manc_set_lrgroup"><meta name="description" content="Set Left-Right matching groups for neurons in DVID and optionally Clio"><meta property="og:description" content="Set Left-Right matching groups for neurons in DVID and optionally Clio"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">malevnc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fas fa-home fa-lg"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="../SUPPORT.html">Help</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://natverse.github.io">natverse</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/natverse/malevnc/"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Set Left-Right matching groups for neurons in DVID and optionally Clio</h1>
      <small class="dont-index">Source: <a href="https://github.com/natverse/malevnc/blob/master/R/dvidtools.R" class="external-link"><code>R/dvidtools.R</code></a></small>
      <div class="d-none name"><code>manc_set_lrgroup.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Set Left-Right matching groups for neurons in DVID and optionally Clio</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">manc_set_lrgroup</span><span class="op">(</span></span>
<span>  <span class="va">ids</span>,</span>
<span>  sides <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dryrun <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  Force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  Partial <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  group <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  clio <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  user <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"malevnc.dvid_user"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-ids">ids<a class="anchor" aria-label="anchor" href="#arg-ids"></a></dt>
<dd><p>A set of body ids belonging to the same group</p></dd>


<dt id="arg-sides">sides<a class="anchor" aria-label="anchor" href="#arg-sides"></a></dt>
<dd><p>Optional character vector specifying the sides (L,R,U) for the
given <code>ids</code>. Will be taken from neuprint by default.</p></dd>


<dt id="arg-dryrun">dryrun<a class="anchor" aria-label="anchor" href="#arg-dryrun"></a></dt>
<dd><p>When <code>TRUE</code>, the default, show what will happen rather
than applying the annotations.</p></dd>


<dt id="arg-force">Force<a class="anchor" aria-label="anchor" href="#arg-force"></a></dt>
<dd><p>Whether to update DVID instances (and clio group) even when
there is existing DVID instance information.</p></dd>


<dt id="arg-partial">Partial<a class="anchor" aria-label="anchor" href="#arg-partial"></a></dt>
<dd><p>Assigns group annotations (via DVID instances) only to neurons
that do not yet have annotation.</p></dd>


<dt id="arg-group">group<a class="anchor" aria-label="anchor" href="#arg-group"></a></dt>
<dd><p>Set a specific group id rather than accepting the default.</p></dd>


<dt id="arg-clio">clio<a class="anchor" aria-label="anchor" href="#arg-clio"></a></dt>
<dd><p>Whether to set the Clio group field in addition to DVID.</p></dd>


<dt id="arg-user">user<a class="anchor" aria-label="anchor" href="#arg-user"></a></dt>
<dd><p>Janelia user name to associate with the DVID instance annotation
(defaults to the value of options("malevnc.dvid_user"), but can be
overridden by this argument. NB a user must be provided by one of these
means. If the user has no Janelia id, just use an id of the form
<code>&lt;surname&gt;&lt;firstinitial&gt;</code> e.g. <code>jefferisg</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>One important process in reviewing and annotating neurons is to
  compare neurons on the left and right side of the malevnc dataset. This can
  identify neurons that need further proof-reading fixes as well as grouping
  neurons that may eventually form agreed cell types. At the time of writing
  (21 Aug 2021) group information is stored in two locations: the DVID
  instance field and the Clio group field. DVID instance information is being
  periodically copied to Clio, but for the time being this is not automated.
  Furthermore it is not trivial to reconcile the two locations if they get
  out of sync. Therefore we have agreed that DVID will remain the master
  source of information for the time being.</p>
<p>DVID left-right groupings are stored in the instance field (for the
  hemibrain this was more specific than the type field and typically included
  side of brain information). The convention has been to store the lowest
  body id in a group followed by an underscore and then the side (<code>L</code> or
  <code>R</code>) or a letter <code>U</code> to indicate that the neuron is unpaired
  (sometimes this is <code>UNP</code>). In contrast the Clio group column just
  contains the lowest bodyid. At this point we assume that the selected
  bodyid will <em>not</em> change if neurons are added to the group.
  <code>manc_set_lrgroup</code> will choose the lowest bodyid as the default when
  setting the group for a set of ids unless a specific <code>group</code> argument
  is passed.</p>
<p>Grouping neurons remains a subjective process: while many cases are
  obvious, there are always edge cases where experts disagree. Therefore it
  is not necessarily productive to spend extensive amounts of discussion once
  a designation has been made. Therefore <code>manc_set_lrgroup</code> tries to
  avoid overriding previous designations unless the user insists. This
  behaviour can be changed using the <code>Force</code> or <code>Partial</code>. As you
  might expect <code>Force=TRUE</code> just does what you ask regardless of any
  existing annotations. Use this sparingly and with caution.</p>
<p><code>Partial=TRUE</code> is more nuanced and tries to do the right thing when
  extending a group for which some members already have annotations. The main
  limitation is that you must pass <em>all</em> the members of the group in
  your call so that <code>manc_set_lrgroup</code> knows that you are trying to make
  a compatible annotation.</p>
<p>Here are some examples of group annotations:</p><ul><li><p><code>10000_R</code>, <code>10000_L</code> for bodyids <code>10000, 10002</code> (the
  giant fibre neurons)</p></li>
<li><p><code>13083_U</code> an unpaired neuron.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># check it makes sense, dryrun=T</span></span></span>
<span class="r-in"><span><span class="fu">manc_set_lrgroup</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12516</span>, <span class="fl">12706</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># apply</span></span></span>
<span class="r-in"><span><span class="fu">manc_set_lrgroup</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12516</span>, <span class="fl">12706</span><span class="op">)</span>, dryrun<span class="op">=</span><span class="cn">F</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gregory Jefferis, Dominik Krzeminski.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

